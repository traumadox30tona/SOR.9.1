<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDOM: Infraestructura de Redes Mixtas</title>
    <!-- Tailwind CSS para el diseño -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons para los iconos -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Segoe UI', system-ui, sans-serif; }
        .slide-enter { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        /* Personalización de la barra de desplazamiento */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #334155; }
    </style>
</head>
<body class="bg-slate-950 text-slate-100 h-screen flex flex-col overflow-hidden selection:bg-blue-500 selection:text-white">

    <!-- Barra de Progreso Superior -->
    <div class="h-1.5 bg-slate-900 w-full">
        <div id="progress-bar" class="h-full bg-gradient-to-r from-blue-600 to-cyan-400 transition-all duration-500 ease-out" style="width: 10%"></div>
    </div>

    <!-- Área Principal -->
    <div class="flex-1 flex flex-col items-center justify-center p-8 relative">
        <!-- Marca de Agua IDOM -->
        <div class="absolute top-10 right-10 text-slate-800 font-black text-6xl opacity-20 pointer-events-none select-none">IDOM</div>
        
        <!-- Contenedor del Slide -->
        <div id="slide-content" class="w-full max-w-6xl slide-enter">
            <!-- El contenido se inyectará aquí con JS -->
        </div>
    </div>

    <!-- Navegación Inferior -->
    <div class="h-20 bg-slate-950 border-t border-slate-900 flex justify-between items-center px-8 z-10">
        <div class="flex items-center gap-3 opacity-60">
            <div class="w-6 h-6 bg-blue-600 rounded flex items-center justify-center text-[10px] font-bold text-white shadow-lg shadow-blue-900/50">I</div>
            <span class="text-slate-400 text-xs font-mono uppercase tracking-widest">SMR2 - Sistemas en Red</span>
        </div>
        
        <div class="flex gap-6 items-center">
            <span class="text-slate-500 text-sm font-mono"><span id="current-slide-num">1</span> <span class="text-slate-700">/</span> <span id="total-slides">10</span></span>
            <div class="flex gap-2">
                <button onclick="prevSlide()" id="btn-prev" class="p-3 rounded-xl bg-slate-900 hover:bg-slate-800 disabled:opacity-20 disabled:cursor-not-allowed border border-slate-800 transition-all hover:border-blue-500/30 text-white">
                    <i data-lucide="chevron-left" class="w-5 h-5"></i>
                </button>
                <button onclick="nextSlide()" id="btn-next" class="p-3 rounded-xl bg-blue-600 hover:bg-blue-500 disabled:opacity-20 disabled:cursor-not-allowed text-white shadow-lg shadow-blue-900/20 transition-all hover:translate-x-0.5">
                    <i data-lucide="chevron-right" class="w-5 h-5"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // DATOS DE LAS DIAPOSITIVAS
        const slides = [
            // 1. PORTADA
            {
                type: 'title',
                title: "IDOM: Infraestructura",
                subtitle: "Gestión de Periféricos y Almacenamiento en Redes Mixtas",
                content: "Caso de Estudio: Interoperabilidad y Seguridad en Entornos de Ingeniería.",
                author: "Juan P. Juárez / Samuel Quintero | Tema 5",
                date: "10 de Febrero, 2026",
                icon: "building-2"
            },
            // 2. CONTEXTO
            {
                type: 'content',
                title: "1. Introducción: Ecosistema IDOM",
                subtitle: "¿Por qué una Red Mixta?",
                icon: "network",
                items: [
                    { label: "El Desafío", text: "Coexistencia crítica de Windows (Ingeniería/CAD), macOS (Arquitectura/BIM) y Linux (Servidores de Cálculo)." },
                    { label: "El Objetivo", text: "Centralizar plotters A0 y almacenamiento masivo (NAS) bajo un dominio seguro y transparente." },
                    { label: "La Solución", text: "Infraestructura basada en estándares abiertos (SMB/CUPS) para garantizar interoperabilidad total." }
                ]
            },
            // 3. TECNOLOGÍAS
            {
                type: 'content',
                title: "2. Tecnologías y Protocolos",
                subtitle: "El lenguaje de la interoperabilidad",
                icon: "cpu",
                items: [
                    { label: "SMB / Samba", text: "El 'traductor universal'. Permite que Linux comparta archivos de forma nativa con clientes Windows y Mac." },
                    { label: "CUPS (IPP)", text: "Common Unix Printing System. Gestiona colas de impresión universales usando el protocolo IPP." },
                    { label: "Seguridad", text: "Uso de ACLs (Listas de Control de Acceso) para mapear permisos NTFS y Unix." }
                ]
            },
            // 4. ALMACENAMIENTO
            {
                type: 'details',
                title: "3. Almacenamiento de Alto Rendimiento",
                subtitle: "NAS + RAID 0 para Diseño Gráfico",
                icon: "hard-drive",
                items: [
                    { title: "Arquitectura RAID 0", desc: "Unión de 2 discos de 50GB = 100GB. Priorizamos velocidad de escritura para planos pesados." },
                    { title: "Gestión con mdadm", desc: "Software de Linux para crear arrays de discos virtuales (/dev/md0)." },
                    { title: "Sistema de Archivos", desc: "Formato EXT4 montado en /compartido para acceso rápido y transaccional." }
                ]
            },
            // 5. USUARIOS (TABLA)
            {
                type: 'table',
                title: "4. Estructura de Seguridad",
                subtitle: "Jerarquías y Cuotas de Disco",
                icon: "users",
                headers: ["Grupo", "Permisos", "Jerarquía Impresión", "Cuota"],
                rows: [
                    ["Administradores", "Control Total", "Prioridad 100 (Máxima)", "10 GB"],
                    ["Aula 1 (Diseño)", "Lectura/Escritura", "Prioridad 50 (Alta)", "7.5 GB"],
                    ["Aula 2 (Gestión)", "Solo Lectura", "Prioridad 10 (Baja)", "7.5 GB"]
                ]
            },
            // 6. IMPRESIÓN
            {
                type: 'content',
                title: "5. Gestión de Impresión (Plotters)",
                subtitle: "Priorización Inteligente de Colas",
                icon: "printer",
                items: [
                    { label: "El Problema", text: "Planos urgentes de dirección atascados detrás de borradores de alumnos." },
                    { label: "La Solución", text: "Configuración de 'Job Priority' en CUPS. Los Admins saltan la cola automáticamente." },
                    { label: "Drivers", text: "Uso de drivers genéricos PostScript para asegurar consistencia de color entre Mac y PC." }
                ]
            },
            // 7. DEMO TÉCNICA
            {
                type: 'steps',
                title: "Implementación Técnica",
                subtitle: "Despliegue en Ubuntu Server",
                icon: "terminal",
                steps: [
                    "RAID 0: sudo mdadm --create /dev/md0 --level=0 --raid-devices=2 ...",
                    "Samba: Configuración de 'valid users = @aula1' en /etc/samba/smb.conf",
                    "Cuotas: sudo setquota -u user1 7.5G 8G 0 0 /mnt/raid",
                    "Impresión: lpadmin -p PlotterHP -o job-priority-default=50"
                ]
            },
            // 8. MANTENIMIENTO
            {
                type: 'details',
                title: "6. Mantenimiento y Supervisión",
                subtitle: "Estrategias de Monitorización Activa",
                icon: "activity",
                items: [
                    { title: "Monitorización de Logs", desc: "Revisión constante de /var/log/samba/log.smbd para detectar intentos de acceso no autorizados." },
                    { title: "Integridad del RAID", desc: "Script diario 'mdadm --detail --scan' para verificar la salud de los discos físicos." },
                    { title: "Actualizaciones", desc: "Implementación de 'unattended-upgrades' para parches de seguridad críticos en el servidor." }
                ]
            },
            // 9. DESAFÍOS
            {
                type: 'details',
                title: "7. Desafíos y Soluciones",
                subtitle: "Resolución de Problemas Reales",
                icon: "alert-triangle",
                items: [
                    { title: "Incompatibilidad de Drivers", desc: "Solución: Estandarización a PCL6/PostScript en el servidor." },
                    { title: "Permisos Cruzados", desc: "Solución: Forzado de máscaras (create mask 0770) en Samba." },
                    { title: "Autenticación", desc: "Futuro: Integración completa con LDAP/Active Directory." }
                ]
            },
            // 10. CONCLUSIONES
            {
                type: 'summary',
                title: "8. Conclusiones",
                subtitle: "Impacto en IDOM",
                icon: "book-open",
                items: [
                    "Eficiencia: La centralización reduce costes de hardware y mantenimiento.",
                    "Rendimiento: RAID 0 es vital para el flujo de trabajo CAD/BIM.",
                    "Control: Las cuotas y prioridades garantizan un uso justo de los recursos.",
                    "Seguridad: La red mixta es transparente pero segura gracias a las ACLs."
                ],
                references: "Fuentes: Documentación Samba.org, Manuales Ubuntu, Tanenbaum."
            }
        ];

        let currentSlide = 0;
        const totalSlides = slides.length;
        const container = document.getElementById('slide-content');
        const progressBar = document.getElementById('progress-bar');
        const currentNum = document.getElementById('current-slide-num');
        const totalNum = document.getElementById('total-slides');
        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');

        function renderSlide() {
            const slide = slides[currentSlide];
            let html = '';

            // ANIMATION RESET
            container.classList.remove('slide-enter');
            void container.offsetWidth; // Trigger reflow
            container.classList.add('slide-enter');

            // HEADER COMMON
            const header = slide.type !== 'title' ? `
                <div class="flex items-center gap-6 border-b border-slate-800 pb-6 mb-10">
                    <div class="p-4 bg-blue-600/10 rounded-2xl border border-blue-500/20 text-blue-400 shadow-lg shadow-blue-900/20">
                        <i data-lucide="${slide.icon}" class="w-10 h-10"></i>
                    </div>
                    <div>
                        <h2 class="text-4xl font-bold text-white">${slide.title}</h2>
                        <p class="text-blue-400 text-lg font-medium mt-1">${slide.subtitle}</p>
                    </div>
                </div>
            ` : '';

            // BODY CONTENT
            if (slide.type === 'title') {
                html = `
                    <div class="text-center space-y-8 flex flex-col items-center">
                        <div class="p-6 bg-blue-900/20 rounded-3xl border border-blue-500/20 shadow-[0_0_50px_rgba(59,130,246,0.15)]">
                            <i data-lucide="${slide.icon}" class="w-20 h-20 text-blue-500"></i>
                        </div>
                        <h1 class="text-6xl md:text-7xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-400">
                            ${slide.title}
                        </h1>
                        <p class="text-3xl text-blue-400 font-light">${slide.subtitle}</p>
                        <div class="h-px w-32 bg-slate-800 my-8"></div>
                        <p class="text-slate-400 text-xl max-w-2xl leading-relaxed">${slide.content}</p>
                        <div class="mt-12 p-4 bg-slate-900/50 rounded-xl border border-slate-800 text-sm text-slate-500">
                            <p class="font-semibold text-slate-300 mb-1">${slide.author}</p>
                            <p>${slide.date}</p>
                        </div>
                    </div>
                `;
            } else if (slide.type === 'content') {
                html = header + `<div class="grid grid-cols-1 md:grid-cols-3 gap-6">`;
                slide.items.forEach(item => {
                    html += `
                        <div class="group bg-slate-900/60 p-8 rounded-2xl border border-slate-800 hover:border-blue-500/40 hover:bg-slate-800/80 transition-all duration-300">
                            <div class="mb-4">
                                <span class="text-xs font-bold tracking-widest text-blue-500 uppercase bg-blue-500/10 px-2 py-1 rounded">${item.label}</span>
                            </div>
                            <p class="text-slate-300 text-lg leading-relaxed group-hover:text-white transition-colors">${item.text}</p>
                        </div>
                    `;
                });
                html += `</div>`;
            } else if (slide.type === 'details') {
                html = header + `<div class="grid gap-4">`;
                slide.items.forEach((item, i) => {
                    html += `
                        <div class="flex gap-5 items-center p-6 bg-slate-900/40 rounded-2xl border border-slate-800 hover:border-blue-500/30 transition-all">
                            <div class="h-10 w-10 rounded-full bg-slate-800 flex items-center justify-center border border-slate-700 text-blue-400 font-bold shrink-0">${i + 1}</div>
                            <div>
                                <h4 class="text-xl font-bold text-white mb-1">${item.title}</h4>
                                <p class="text-slate-400">${item.desc}</p>
                            </div>
                        </div>
                    `;
                });
                html += `</div>`;
            } else if (slide.type === 'table') {
                html = header + `
                    <div class="overflow-hidden rounded-2xl border border-slate-800 bg-slate-900/30 shadow-2xl">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="bg-slate-800/50">
                                    ${slide.headers.map(h => `<th class="p-5 text-xs font-bold text-blue-400 uppercase tracking-wider">${h}</th>`).join('')}
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-slate-800">
                                ${slide.rows.map(row => `
                                    <tr class="hover:bg-blue-600/5 transition-colors">
                                        ${row.map((cell, j) => `<td class="p-5 text-slate-300 font-medium ${j === 3 ? 'text-emerald-400' : ''}">${cell}</td>`).join('')}
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `;
            } else if (slide.type === 'steps') {
                html = header + `<div class="grid grid-cols-1 gap-4">`;
                slide.steps.forEach(step => {
                    html += `
                        <div class="font-mono text-sm p-4 bg-black/40 rounded-xl border-l-4 border-emerald-500 text-slate-300 flex items-center gap-3 shadow-inner">
                            <span class="text-emerald-500 select-none">$</span>
                            <span>${step}</span>
                        </div>
                    `;
                });
                html += `</div>`;
            } else if (slide.type === 'summary') {
                html = header + `
                    <div class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${slide.items.map(item => `
                                <div class="flex gap-3 p-4 bg-blue-900/10 rounded-xl border border-blue-500/10">
                                    <i data-lucide="check-circle-2" class="text-blue-500 flex-shrink-0 w-6 h-6"></i>
                                    <span class="text-slate-200">${item}</span>
                                </div>
                            `).join('')}
                        </div>
                        <div class="pt-6 border-t border-slate-800 text-center">
                            <p class="text-slate-500 text-sm italic">${slide.references}</p>
                        </div>
                    </div>
                `;
            }

            container.innerHTML = html;
            lucide.createIcons();
            updateUI();
        }

        function updateUI() {
            // Update Progress
            const progress = ((currentSlide + 1) / totalSlides) * 100;
            progressBar.style.width = `${progress}%`;

            // Update Numbers
            currentNum.innerText = currentSlide + 1;
            totalNum.innerText = totalSlides;

            // Update Buttons
            btnPrev.disabled = currentSlide === 0;
            btnNext.disabled = currentSlide === totalSlides - 1;
            
            btnPrev.style.opacity = currentSlide === 0 ? "0.2" : "1";
            btnNext.style.opacity = currentSlide === totalSlides - 1 ? "0.2" : "1";
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                currentSlide++;
                renderSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                renderSlide();
            }
        }

        // Init
        renderSlide();

        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

    </script>
</body>
</html>